<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-development/contributing/ci-cd">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">CI/CD Workflow | Governify docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.governify.io/development/contributing/ci-cd"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="CI/CD Workflow | Governify docs"><meta data-rh="true" name="description" content="CI/CD Workflow"><meta data-rh="true" property="og:description" content="CI/CD Workflow"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.governify.io/development/contributing/ci-cd"><link data-rh="true" rel="alternate" href="https://docs.governify.io/development/contributing/ci-cd" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.governify.io/development/contributing/ci-cd" hreflang="x-default"><script defer="defer" src="/js/external_sidebar_links.js"></script><link rel="stylesheet" href="/assets/css/styles.1e17158b.css">
<link rel="preload" href="/assets/js/runtime~main.f1b7289f.js" as="script">
<link rel="preload" href="/assets/js/main.013873a8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/governify.svg" alt="Governify" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/governify.svg" alt="Governify" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Governify</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/governify" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/governify.svg" alt="Governify" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/governify.svg" alt="Governify" class="themedImage_ToTc themedImage--dark_i4oU"><b>Governify</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/use-cases/auditing-agile">Use Cases</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/architecture/intro">Architecture</a><button aria-label="Toggle the collapsible sidebar category &#x27;Architecture&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item sidebar-hr"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">ðŸ”§ Development</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/development/services/registry">Services</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/development/tooling/commons-library">Tooling</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/development/extending-governify/adding-new-sources">Extending Governify</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/development/contributing/contributing-to-docs">Contributing</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/development/contributing/contributing-to-docs">Contributing to Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/development/contributing/gitflow">GitFlow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/development/contributing/ci-cd">CI/CD Workflow</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item sidebar-hr"><div class="menu__list-item-collapsible"><a class="menu__link">ðŸ“– About</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item external-link::github.com/governify/governify-examples"><a class="menu__link" tabindex="0" href="/about/examples">Examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/about/iAgree">iAgree Syntax 5.2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/about/license">License</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">ðŸ”§ Development</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Contributing</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">CI/CD Workflow</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>CI/CD Workflow</h1><hr><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">â€‹</a></h2><p>CI/CD is a series of interconnected processes that empower developers to build quality software through well-aligned and automated development, testing, delivery, and deployment. Together, these practices ensure better collaboration and greater efficiency for DevOps teams throughout the software development life cycle. GitHub Actions, thanks to being built in to GitHub, has made integrating with different services much easier and helps to have all the things in one place.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="microservices-cicd">Microservices CI/CD<a href="#microservices-cicd" class="hash-link" aria-label="Direct link to Microservices CI/CD" title="Direct link to Microservices CI/CD">â€‹</a></h2><p>At this moment, the different component repositories are configured with the same pipeline to test, lint and build the different docker images used in the deployments. </p><p>Depending if the push/merge PR is done to the repository&#x27;s main branch or the develop branch, a set of CI/CD actions will be executed in the CI.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="develop-actions-run">Develop actions run<a href="#develop-actions-run" class="hash-link" aria-label="Direct link to Develop actions run" title="Direct link to Develop actions run">â€‹</a></h3><p><img loading="lazy" alt="Actions Develop Pipeline" src="/assets/images/CI-DEV-c087818b0b13d2d36d0d74884ee95d78.png" width="995" height="290" class="img_ev3q"></p><p>This are the actions executed when pushing to develop. As it is shown, the two top actions are not executed as they belong to the production actions run.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-lint-test-and-coverage">1. Lint, test and coverage<a href="#1-lint-test-and-coverage" class="hash-link" aria-label="Direct link to 1. Lint, test and coverage" title="Direct link to 1. Lint, test and coverage">â€‹</a></h4><p>This node will execute 3 tasks:</p><ul><li>Lint - It will check all the code is properly linted as specified in the package.json</li><li>Test - It will run unitary tests to check no functionallity was broken in the commit</li><li>Coverage - The coverage report obtained is sent to coveralls to update the badge</li></ul><p>If this step is successful, the pipeline will flow to the next step.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2-build-and-push-to-dockerhub">2. Build and push to Dockerhub<a href="#2-build-and-push-to-dockerhub" class="hash-link" aria-label="Direct link to 2. Build and push to Dockerhub" title="Direct link to 2. Build and push to Dockerhub">â€‹</a></h4><p>If the push has been made to the develop branch, this node will execute. It will use DockerHub credentials (stored on GitHub secrets) to build the image based on the Dockerfile and push it to dockerhub. The new image&#x27;s tag will be <code>develop</code>. If this step is successful, the &quot;E2E tests&quot; steps will be executed.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3-e2e-tests">3. E2E tests<a href="#3-e2e-tests" class="hash-link" aria-label="Direct link to 3. E2E tests" title="Direct link to 3. E2E tests">â€‹</a></h4><p>On Bluejay&#x27;s infrastructure, a set of tests have been made to ensure proper functioning of the system (To know more about this, check out the last section of this page). Using the new image built in the last step and the other develop images from the different microservices, the CI will check out the whole infrastructure repository, deploy all the containers and check nothing was broken by passing some tests.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="main-actions-run">Main actions run<a href="#main-actions-run" class="hash-link" aria-label="Direct link to Main actions run" title="Direct link to Main actions run">â€‹</a></h3><p><img loading="lazy" alt="Actions Main Pipeline" src="/assets/images/CI-PRO-fd46594e1e3d232922dba1cde53a0de8.png" width="995" height="284" class="img_ev3q"></p><p>Now, the bottom part of the pipeline is not executed. Let&#x27;s see the differences in the steps.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-lint-test-and-coverage-1">1. Lint, test and coverage<a href="#1-lint-test-and-coverage-1" class="hash-link" aria-label="Direct link to 1. Lint, test and coverage" title="Direct link to 1. Lint, test and coverage">â€‹</a></h4><p>The same pipe will be executed like the develop run as this is a shared step.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2-e2e-tests">2. E2E tests<a href="#2-e2e-tests" class="hash-link" aria-label="Direct link to 2. E2E tests" title="Direct link to 2. E2E tests">â€‹</a></h4><p>When something is updated on the main branch, it must be due to a PR merge from the development branch. This step is the exact same as the last part of the develop pipeline but if it fails, the next node won&#x27;t run. This is to ensure the infrastructure is properly working  with the latest image before doing the last step.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3-release-build-and-push-to-dockerhub">3. Release, build and push to Dockerhub<a href="#3-release-build-and-push-to-dockerhub" class="hash-link" aria-label="Direct link to 3. Release, build and push to Dockerhub" title="Direct link to 3. Release, build and push to Dockerhub">â€‹</a></h4><p>This is similar to the &quot;Build and push to Dockerhub&quot; action in the develop pipeline but adds a task. At first, it will use all the commit messages (which should be written using <a href="https://www.conventionalcommits.org/en/v1.0.0/" target="_blank" rel="noopener noreferrer">Conventional Commits</a>) to create a changelog and adds a new tag and Release of the code in the repository using this changes as the body. It also automatically increases the version number. Then, using this tag, it builds two exact same docker images but one tagged with it and the other with the <code>latest</code> tag. Finally, it creates a PR to develop with the changelog and package.json version increase to be accepted and keep it up to date with the main branch.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/governify/governify-docs/edit/main/docs/development/contributing/ci-cd.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-02-13T01:55:12.000Z">Feb 13, 2024</time></b> by <b>Governify Auditor</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/development/contributing/gitflow"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">GitFlow</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/about/examples"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Examples</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#microservices-cicd" class="table-of-contents__link toc-highlight">Microservices CI/CD</a><ul><li><a href="#develop-actions-run" class="table-of-contents__link toc-highlight">Develop actions run</a></li><li><a href="#main-actions-run" class="table-of-contents__link toc-highlight">Main actions run</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.f1b7289f.js"></script>
<script src="/assets/js/main.013873a8.js"></script>
</body>
</html>